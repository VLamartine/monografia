<!DOCTYPE html>
<html>

<head>
  <title>Sorteio verificável</title>
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/sorteio.css">
  <script src="../../js/main.js"></script>
  <script src="../../js/sorteio.js"></script>
  <meta charset="utf-8">
</head>

<body>
  <header class="header">
    <a href="../sorteio" class="drawCategories">Sorteio aleatório</a>
    <a href="../comPesos" class="drawCategories">Sorteio com pesos</a>
  </header>
  <div class="container">
    <div class="data divisory">
      <form class="form">
        <p class="ta-center">Escolha a origem da semente que será usada no sorteio</p>
        <select id="seedOrigin" onchange="handleSeedOriginChange(this)">
          <option value="nist" selected>Farol de aleatoriedade - NIST</option>
          <option value="uchile">Farol de aleatoriedade - Universidade do Chile</option>
          <option value="inmetro">Farol de aleatoriedade - INMETRO</option>
          <option value="user">Inserir manualmente</option>
        </select>
        <label for="seed" id="user-seed" class="user-seed display-none">
          Inserir semente
          <input id="seed" class="w-50 m-auto" type="text" placeholder="Semente">
        </label>
        <div class="beacon-seed" id="beacon-seed">
          <div class="timeOptions">
            <label class="optionsLabel" for="last">
              <input type="radio" onclick="handlePulseTimeChange(this)" name="time" id="last" value="last" checked>
              Usar último pulso
            </label>
            <label class="optionsLabel" for="future">
              <input type="radio" onclick="handlePulseTimeChange(this)" name="time" id="future" value="future">
              Usar próximo pulso
            </label>
            <label class="optionsLabel" for="past">
              <input type="radio" onclick="handlePulseTimeChange(this)" name="time" id="past" value="past">
              Escolher pulso já gerado
            </label>
          </div>
          <div class="datetime display-none" id="datetime">
            <input type="date" id="date" onchange="handleTimeChange()">
            <input type="time" id="time" onchange="handleTimeChange()">
            <span id="timeError" class="timeError display-none">Não é possível utilizar um horário do futuro</span>
          </div>
        </div>
        <p class="ta-center">
          Digite ou copie os itens abaixo, cada um em uma linha
        </p>
        <textarea id="items" class="items_input" class="m-auto border"></textarea>
        <button type="button" onclick="shuffle()" id="submit" class="shuffle border">Sortear</button>
        <div id="formatedData" class="formated-data display-none">
          <table class="formated-data-table">
            <thead>
              <th>Sentenças utilizadas</th>
              <th>Sentenças codificadas</th>
            </thead>
            <tbody id="formatedDataTable">
            </tbody>
          </table>
        </div>
      </form>
    </div>
    <div class="results ta-center">
      <p class="countdown-message display-none" id="msg">
        O sorteio foi programado às <span id="dateShuffle"></span>.
        A semente utilizada será o pulso gerado às <span id="datePulse"></span>.
        <br>
        Sorteio em <span id="remainingTime"></span> segundos.
      </p>
      <p class="m-auto">Semente utilizada: <b id="baseSeed" style="word-break: break-all;"></b></p>
      <p id="pulse" class="display-none w-100 ta-left">Index do pulso: <b id="pulseIndex"></b></p>
      <div class="result-list-div ta-center">
        <p style="font-size: 22px;">Resultado do sorteio</p>
        <ol id="resultList" class="ta-left results-list display-none">
        </ol>
      </div>
    </div>
  </div>

  <div class="about">
    <a href="./sobre.html">Sobre</a> |
    <select name="language" id="language" onchange="changeLanguage(this)">
      <option value="pt" selected>Português</option>
      <option value="en">Inglês</option>
    </select>
  </div>
</body>

</html>